---
- name: Get starship.rs archives
  ansible.builtin.get_url:
    url: https://github.com/starship/starship/releases/download/v{{ starship_version }}/starship-x86_64-unknown-linux-gnu.tar.gz
    dest: /usr/local/bin/starship.tar.gz
    owner: "{{ primary_user_username }}"
    group: "{{ primary_user_username }}"
    mode: u=rw,g=,o=
  when: use_starship

- name: Unarchive starship.rs
  ansible.builtin.unarchive:
    src: /usr/local/bin/starship.tar.gz
    dest: /usr/local/bin/
    remote_src: yes
    owner: "{{ primary_user_username }}"
    group: "{{ primary_user_username }}"
    mode: u=rwx,g=rx,o=rx
  when: use_starship
  