---
minecraft_image: "{{ host_minecraft_image | default('docker.io/itzg/minecraft-server') }}"
minecraft_image_version: "{{ host_minecraft_image_version | default('2022.11.0') }}"
# https://hub.docker.com/r/itzg/minecraft-server/tags

minecraft_config: "{{ tcp_services | selectattr('service', 'equalto', 'minecraft') | first }}"
minecraft_ports:
  - "{% if minecraft_config.direct_access %}[::]:{{ minecraft_config.backends[0].port }}{% else %}127.0.0.1:{{ minecraft_config.backends[0].port }}{% endif %}:25565/tcp"
  - "{% if minecraft_config.direct_access %}[::]:{{ minecraft_config.backends[0].port }}{% else %}[::1]:{{ minecraft_config.backends[0].port }}{% endif %}:25565/tcp"

minecraft_volumes: "{{ host_podman_minecraft_path }}:/data"

# Firewalld
firewalld_zone: "{{ host_firewalld_zone | default('home') }}"
minecraft_firewalld_ports: "{{ minecraft_config.backends[0].port }}/tcp"
minecraft_use_rich_firewalld_rules: "{{ host_minecraft_use_rich_firewalld_rules | default(false) }}"
minecraft_firewalld_rich_rules: "{{ host_minecraft_firewalld_rich_rules }}"