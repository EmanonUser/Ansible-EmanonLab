---
host_nfs_exports:
  - export: /vault
    path: /srv/nfs4/vault
    authorized_clients:
      - client: "{{ grp_device.pi.ipv6_addr }}"
        options: "(ro,no_root_squash,fsid=root,crossmnt)"
      - client: "{{ grp_device.pi.ipv4_addr }}"
        options: "(ro,no_root_squash,fsid=root,crossmnt)"
      - client: "{{ grp_device.arch.ipv6_addr }}"
        options: "(ro,no_root_squash,fsid=root,crossmnt)"
      - client: "{{ grp_device.arch.ipv4_addr }}"
        options: "(ro,no_root_squash,fsid=root,crossmnt)"
      - client: "172.16.0.0/24"
        options: "(ro,no_root_squash,fsid=root,crossmnt)"

  - export: /vault/emanonlab
    path: /srv/nfs4/vault/emanonlab
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanonlab/tmp
    path: /srv/nfs4/vault/emanonlab_tmp
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanonlab/dev
    path: /srv/nfs4/vault/emanonlab_dev
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanonlab/misc
    path: /srv/nfs4/vault/emanonlab_misc
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanonlab/secrets/keepassxc
    path: /srv/nfs4/vault/emanonlab_secrets_keepassxc
    authorized_clients:
      - client: "{{ grp_device.pi.ipv6_addr }}"
      - client: "{{ grp_device.pi.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanon/documents
    path: /srv/nfs/vault/emanon-documents
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanon/other_users
    path: /srv/nfs4/vault/emanon_other_users
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/media
    path: /srv/nfs4/vault/media
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "{{ grp_device.pi.ipv6_addr }}"
      - client: "{{ grp_device.pi.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/media/animes
    path: /srv/nfs4/vault/animes
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/media/series
    path: /srv/nfs4/vault/series
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/media/movies
    path: /srv/nfs4/vault/movies
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/media/tmp
    path: /srv/nfs4/vault/media-tmp
    authorized_clients:
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanonlab/containers
    path: /srv/nfs4/vault/emanonlab-containers
    authorized_clients:
      - client: "{{ grp_device.pi.ipv6_addr }}"
      - client: "{{ grp_device.pi.ipv4_addr }}"
      - client: "172.16.0.0/24"

  - export: /vault/emanonlab/pi_boot_c7d13139
    path: /srv/nfs4/vault/pi_boot_c7d13139
    authorized_clients:
      - client: "{{ grp_device.pi.ipv6_addr }}"
      - client: "{{ grp_device.pi.ipv4_addr }}"
      - client: "{{ grp_device.arch.ipv6_addr }}"
      - client: "{{ grp_device.arch.ipv4_addr }}"
      - client: "172.16.0.0/24"