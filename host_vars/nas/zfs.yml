---
host_zfs_systemd_on_calendar_scrubing_timer: Sat 00:00:00
# https://www.freedesktop.org/software/systemd/man/systemd.time.html
host_zfs_arc_max: 15032385536  # Bytes
host_zfs_manual_zpools_creation: no
host_zfs_set_permissions_blacklist: ['emanonlab-pi_boot_c7d13139']
host_zfs_pools:
  - pool: vault
    enable_trim: no
    base_path: /vault      # Carefull with the pool base mountpoint, must be changed too
    datasets:
      ## media datasets ##
      - dataset: media
        recordsize: 1M
        zrepl_snapshot_policy: "no"
      - dataset: media-animes
        recordsize: 1M
      - dataset: media-series
        recordsize: 1M
      - dataset: media-movies
        recordsize: 1M
      - dataset: media-tmp
        recordsize: 1M
      - dataset: media-games
        recordsize: 1M
      ## Media dataset ##

      ## emanonlab datasets ##
      - dataset: emanonlab
        zrepl_snapshot_policy: "no"
        compression: zstd
      - dataset: emanonlab-containers
        zrepl_snapshot_policy: zrepl_P2
        compression: zstd-6
      - dataset: emanonlab-secrets
        zrepl_snapshot_policy: zrepl_P2
        compression: zstd
      - dataset: emanonlab-secrets-keepassxc
        zrepl_snapshot_policy: zrepl_P2
        compression: zstd
      - dataset: emanonlab-tmp
        zrepl_snapshot_policy: zrepl_P3
        compression: zstd
      - dataset: emanonlab-dev
        zrepl_snapshot_policy: zrepl_P2
        compression: zstd-12
      - dataset: emanonlab-pi_boot_c7d13139
        compression: zstd
      - dataset: emanonlab-misc
      ## emanonlab datasets ##

      ## emanon datasets ##
      - dataset: emanon
        atime: on
        relatime: on
        zrepl_snapshot_policy: "no"
      - dataset: emanon-documents
        atime: on
        relatime: on
        zrepl_snapshot_policy: zrepl_P2
        compression: zstd
      - dataset: emanon-other_users
        zrepl_snapshot_policy: zrepl_P2
        compression: zstd
      ## emanon datasets ##

    volumes:
      - volume: zvol_01
        zrepl_snapshot_policy: zrepl_P3
        volsize: 35G
      - volume: emanonlab-pi_root_c7d13139
        volsize: 32G
        compression: zstd
