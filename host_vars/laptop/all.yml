---
## firewalld ##
host_firewalld_zone: dmz
host_spe_firewalld_handling: yes

## is_alive ##
host_is_alive_echo_request_target: iwakura.emanon.moe

## zfs ##
host_zfs_primary_pools:
  - pool: tank
    path: "/tank"

########## Podman ##########
host_podman_volumes_path: "{{ host_zfs_primary_pools[0].path }}/containers"
host_podman_media_path: "{{ host_zfs_primary_pools[0].path }}/media"
host_podman_media_2_path: "{{ host_zfs_primary_pools[0].path }}/emanon/media"
host_podman_files_path: "{{ host_zfs_primary_pools[0].path }}/emanon/files"
host_podman_misc_path: "{{ host_zfs_primary_pools[0].path }}/misc"
########## Podman ##########


## podman_transmission ##
host_podman_transmission_firewalld_rich_rules:
  - { family: ipv4, source: "{{ grp_device.arch.ipv4_addr }}", port: "{{ grp_podman_networking.transmission.webui_port }}", proto: tcp }
  - { family: ipv6, source: "{{ grp_device.arch.ipv6_addr_global }}", port: "{{ grp_podman_networking.transmission.webui_port }}", proto: tcp }
  - { family: ipv4, source: "{{ grp_device.one.ipv4_addr }}", port: "{{ grp_podman_networking.transmission.webui_port }}", proto: tcp }

host_podman_transmission_volumes:
  - "{{ host_podman_volumes_path }}/transmission/:/transmission"
  - "{{ host_podman_media_path }}:/media"
  - "{{ host_podman_misc_path }}:/misc"
  - "{{ host_podman_files_path }}:/files"
host_podman_transmission_env_download_path: "/misc"


## podman_jellyfin ##
host_podman_jellyfin_firewalld_rich_rules:
  - { family: ipv4, source: "{{ grp_device.arch.ipv4_addr }}", port: "{{ grp_podman_networking.jellyfin.webui_port }}", proto: tcp }
  - { family: ipv6, source: "{{ grp_device.arch.ipv6_addr_global }}", port: "{{ grp_podman_networking.jellyfin.webui_port }}", proto: tcp }
  - { family: ipv4, source: "{{ grp_device.one.ipv4_addr }}", port: "{{ grp_podman_networking.jellyfin.webui_port }}", proto: tcp }

host_podman_jellyfin_volumes:
  - "{{ host_podman_volumes_path }}/jellyfin/cache:/cache"
  - "{{ host_podman_volumes_path }}/jellyfin/config:/config"
  - "{{ host_podman_media_path }}:/media"
  - "{{ host_podman_media_2_path }}:/media_2"
  - "{{ host_podman_misc_path }}:/misc"


## podman_filebrowser ##
host_podman_filebrowser_firewalld_rich_rules:
  - { family: ipv4, source: "{{ grp_device.arch.ipv4_addr }}", port: "{{ grp_podman_networking.filebrowser.webui_port }}", proto: tcp }
  - { family: ipv6, source: "{{ grp_device.arch.ipv6_addr_global }}", port: "{{ grp_podman_networking.filebrowser.webui_port }}", proto: tcp }
  - { family: ipv4, source: "{{ grp_device.one.ipv4_addr }}", port: "{{ grp_podman_networking.filebrowser.webui_port }}", proto: tcp }

host_podman_filebrowser_volumes:
  - "{{ host_podman_volumes_path }}/filebrowser/database.db:/database.db"
  - "{{ host_podman_volumes_path }}/filebrowser/.filebrowser.json:/.filebrowser.json"
  - "{{ host_podman_files_path }}:/srv"


## podman_kuma ##
host_podman_kuma_firewalld_rich_rules:
  - { family: ipv4, source: "{{ grp_device.arch.ipv4_addr }}", port: "{{ grp_podman_networking.kuma.webui_port }}", proto: tcp }
  - { family: ipv6, source: "{{ grp_device.arch.ipv6_addr_global }}", port: "{{ grp_podman_networking.kuma.webui_port }}", proto: tcp }
  - { family: ipv4, source: "{{ grp_device.one.ipv4_addr }}", port: "{{ grp_podman_networking.kuma.webui_port }}", proto: tcp }

## podman_syncthing ##
host_podman_syncthing_firewalld_rich_rules:
  - { family: ipv4, source: "{{ grp_device.arch.ipv4_addr }}", port: "{{ grp_podman_networking.syncthing.webui_port }}", proto: tcp }
  - { family: ipv6, source: "{{ grp_device.arch.ipv6_addr_global }}", port: "{{ grp_podman_networking.syncthing.webui_port }}", proto: tcp }
  - { family: ipv4, source: "{{ grp_device.one.ipv4_addr }}", port: "{{ grp_podman_networking.syncthing.webui_port }}", proto: tcp }