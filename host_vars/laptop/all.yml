---
## Role global ##
v_host_primary_user_username: "{{ v_primary_user_username }}"
v_host_primary_user_password: "{{ v_primary_user_password }}" 
host_cpu_architecture: amd64 # amd64, arm64 etc ...
host_zfs_primary_pool:
  name: [tank]
  path: "/tank"
## Role global ##

## device_init ##
host_debian_stable_packages:
  - debian-keyring
  - debian-archive-keyring
  - ca-certificates
  - apt-transport-https
  - curl
  - gnupg2
  - lsb-release
  - dnsutils
  - ldnsutils
  - git
  - tmux
  - tcpdump
  - mtr-tiny
  - ldnsutils
  - neofetch
  - neovim
  - zsh
  - unzip
  - htop
  - vnstat
  - acl
  - rsync
  - aria2
host_use_starship: yes
host_starship_version: "0.57.0" # https://github.com/starship/starship/releases
## device_init ##

## firewalld ##
host_firewalld_primary_interface: enp3s0
host_firewalld_zone: dmz
## firewalld ##

## isAlive ##
host_echo_request_target: iwakura.emanon.moe
host_echo_request_interval: 15m
host_echo_request_count: "21" 
## isAlive ##

## zfs ##
host_zfs_zpool_names: [tank]
host_systemd_OnCalendar_scrubing_timer: Thu 00:00:00
## zfs ##

########## Podman ##########
host_podman_networking:
  jellyfin:
    fulldomain: jellyfin.emanon.moe
    webui_port: 25101
    public: yes
    lan_access: no
  filebrowser:
    fulldomain: file.emanon.moe
    webui_port: 25102
    public: yes
    lan_access: no
  transmission:
    fulldomain: transmission.emanon.moe
    webui_port: 25103
    public: no
    lan_access: yes
  kuma:
    fulldomain: kuma.emanon.moe
    webui_port: 25104
    public: yes
    lan_access: no
host_podman_volumes_path: "{{ host_zfs_primary_pool.path }}/data/podman"
host_podman_media_path: "{{ host_zfs_primary_pool.path }}/media"
host_podman_files_path: "{{ host_zfs_primary_pool.path }}/files"
host_podman_firewalld_zone: "{{ host_firewalld_zone }}"
########## Podman ##########

## podman_jellyfin ##
host_podman_jellyfin_image: docker.io/jellyfin/jellyfin
host_podman_jellyfin_image_version: "latest"
host_podman_jellyfin_ports: "{{ host_podman_networking.jellyfin.webui_port }}:8096"
host_podman_jellyfin_firewalld_ports: "{{ host_podman_networking.jellyfin.webui_port }}"
host_podman_jellyfin_directories:
 - "{{ host_podman_volumes_path }}/jellyfin/cache"
 - "{{ host_podman_volumes_path }}/jellyfin/config"
host_podman_jellyfin_volumes:
  - "{{ host_podman_volumes_path }}/jellyfin/cache:/cache"
  - "{{ host_podman_volumes_path }}/jellyfin/config:/config"
  - "{{ host_podman_media_path }}:/media"
  - "/tank/misc:/misc"
## podman_jellyfin ##

## podman_transmission ##
host_podman_transmission_image: docker.io/haugene/transmission-openvpn
host_podman_transmission_image_version: "3.7"
host_podman_transmission_ports: "{{ host_podman_networking.transmission.webui_port }}:9091"
host_podman_transmission_firewalld_ports: "{{ host_podman_networking.transmission.webui_port }}"
host_podman_transmission_directories:
  - "{{ host_podman_volumes_path }}/transmission/home"
  - "{{ host_podman_volumes_path }}/transmission/completed"
  - "{{ host_podman_volumes_path }}/transmission/incompleted"
  - "{{ host_podman_volumes_path }}/transmission/watch"
host_podman_transmission_volumes:
  - "{{ host_podman_volumes_path }}/transmission/:/transmission"
  - "{{ host_podman_media_path }}:/media"
  - "/tank/misc:/misc"
host_podman_transmission_env_openvpn_provider: "{{ v_transmission_openvpn_provider }}"
host_podman_transmission_env_openvpn_config: "{{ v_transmission_openvpn_config }}"
host_podman_transmission_env_openvpn_username: "{{ v_transmission_openvpn_username }}"
host_podman_transmission_env_openvpn_password: "{{ v_transmission_openvpn_password }}"
host_podman_transmission_env_download_dir: "{{ host_podman_media_path }}"
## podman_transmission ##

## podman_filebrowser ##
host_podman_filebrowser_image: docker.io/filebrowser/filebrowser
host_podman_filebrowser_image_version: "v2"
host_podman_filebrowser_ports: "{{ host_podman_networking.filebrowser.webui_port }}:2500"
host_podman_filebrowser_firewalld_ports: "{{ host_podman_networking.filebrowser.webui_port }}"
host_podman_filebrowser_directories: 
  - "{{ host_podman_volumes_path }}/filebrowser"
  - "{{ host_podman_files_path }}"
host_podman_filebrowser_files:
  config: "{{ host_podman_volumes_path }}/filebrowser/.filebrowser.json"
  database: "{{ host_podman_volumes_path }}/filebrowser/database.db"
host_podman_filebrowser_volumes:
  - "{{ host_podman_volumes_path }}/filebrowser/database.db:/database.db"
  - "{{ host_podman_volumes_path }}/filebrowser/.filebrowser.json:/.filebrowser.json"
  - "{{ host_podman_files_path }}:/srv"
## podman_filebrowser ##

## podman_kuma ##
host_podman_kuma_image: docker.io/louislam/uptime-kuma
host_podman_kuma_image_version: 1.5.3-alpine
host_podman_kuma_ports: "{{ host_podman_networking.kuma.webui_port }}:3001"
host_podman_kuma_firewalld_ports: "{{ host_podman_networking.kuma.webui_port }}"
host_podman_kuma_directory: "{{ host_podman_volumes_path }}/kuma"
host_podman_kuma_volumes: "{{ host_podman_volumes_path }}/kuma:/app/data"
## podman_kuma ##

## acme_dns ##
host_acme_directory: https://acme-v02.api.letsencrypt.org/directory
host_acme_version: 2
host_acme_challenge_type: dns-01
host_acme_email: moemanon@pm.me
host_acme_letsencrypt_base_path: /etc/letsencrypt
host_acme_letsencrypt_dirs:
  account: "{{ host_acme_letsencrypt_base_path }}/account"
  mykeys: "{{ host_acme_letsencrypt_base_path }}/keys"
  csrs: "{{ host_acme_letsencrypt_base_path }}/csrs"
  certs: "{{ host_acme_letsencrypt_base_path }}/certs"
host_acme_domain: emanon.moe
host_acme_domain_name:
  - { fqdn: "*.{{ host_acme_domain }}", index: 0, domain: ".{{ host_acme_domain }}" }
  # - { fqdn: "file.{{ host_acme_domain }}", index: 0, domain: ".{{ host_acme_domain }}" }
  # - { fqdn: "jellyfin.{{ host_acme_domain }}", index: 1, domain: ".{{ host_acme_domain }}" }
  # - { fqdn: "kuma.{{ host_acme_domain }}", index: 2, domain: ".{{ host_acme_domain }}" }
host_acme_gandi_api_key: "{{ v_gandi_api_key }}"
## acme_dns ##

## haproxy ##
host_haproxy_acme_server_port: "27767"
host_haproxy_firewalld_zone: "{{ host_firewalld_zone }}"
host_haproxy_firewalld_services: ["http", "https"]
host_haproxy_domain_name: "{{ host_acme_domain_name }}"
host_haproxy_letsencrypt_base_path: "{{ host_acme_letsencrypt_base_path }}"
host_haproxy_stats: yes
host_haproxy_stats_port: "8404"
## haproxy ##

## gad ##
host_gad_path: /opt
host_gad_version: "1.4.2"
host_gad_use_ipv6: yes
## gad ##