---
# Ansible vars file for non-shared roles, order following deploy_host execution
# Vars prefix indication their location hos_ = host_vars | grp_ = group_vars | v_host_ = vault in host_vars | v_grp_ = vault in group 
## Role global ##
v_host_primary_user_username: "{{ v_primary_user_username }}"
v_host_primary_user_password: "{{ v_primary_user_password }}" 
host_cpu_architecture: arm64 # amd64, arm64 etc ...

## device_init ##
host_use_starship: yes
host_starship_version: "0.58.0" # https://github.com/starship/starship/releases
host_debian_stable_packages:
  - debian-keyring
  - debian-archive-keyring
  - ca-certificates
  - apt-transport-https
  - curl
  - gnupg2
  - lsb-release
  - dnsutils
  - ldnsutils
  - git
  - tmux
  - htop
  - tcpdump
  - mtr-tiny
  - zsh
  - unzip
  - neovim
  - acl
## device_init ##

## firewalld ##
host_firewalld_primary_interface: eth0
host_firewalld_zone: home
## firewalld ##

## prometheus_node_exporter ##
host_exporter_download_url: https://github.com/prometheus/node_exporter/releases/download/
host_exporter_version: 1.1.2 # https://github.com/prometheus/node_exporter/releases/
## prometheus_node_exporter ##

## nfs_share ##
host_nfs_server_target: "192.168.10.25"
host_nfs_remote_share: /mnt/vault/emanon
host_nfs_mount_dir: /mnt/vault
## nfs_share ##

########## Podman ##########
host_podman_networking:
  adguard:
    fulldomain: adguard.local.emanon
    webui_port: 4001
    lan_access: no
  transmission:
    fulldomain: transmission.local.emanon
    webui_port: 4002
    lan_access: no
  prometheus:
    fulldomain: prometheus.local.emanon
    webui_port: 4003
    lan_access: no
  grafana:
    fulldomain: grafana.local.emanon
    webui_port: 4004
    lan_access: no
  homeassistant:
    fulldomain: homeassistant.local.emanon
    webui_port: 4005
    lan_access: no
  haproxy:
    fulldomain: haproxy.local.emanon
    webui_port: 80
    lan_access: yes

host_podman_volumes_path: "/mnt/vault/data/homelab/podman"
host_podman_firewalld_zone: "{{ host_firewalld_zone }}"
########## Podman ##########

## podman_adguard ##
host_podman_adguard_image: docker.io/adguard/adguardhome
host_podman_adguard_image_version: v0.106.3
host_podman_adguard_ports:
  - "{% if host_podman_networking.adguard.lan_access %}{{ host_podman_networking.adguard.webui_port }}{% else %}127.0.0.1:{{ host_podman_networking.adguard.webui_port }}{% endif %}:3000/tcp"
  - "10053:53/udp"
  - "10053:53/tcp"
host_podman_adguard_firewalld_ports:
  - "{{ host_podman_networking.adguard.webui_port }}/tcp"
  - "10053/udp"
  - "10053/tcp"
host_podman_adguard_directories:
  - "{{ host_podman_volumes_path }}/adguard/work"
  - "{{ host_podman_volumes_path }}/adguard/conf"
host_podman_adguard_volumes:
  - "{{ host_podman_adguard_directories[0] }}:/opt/adguardhome/work"
  - "{{ host_podman_adguard_directories[1] }}:/opt/adguardhome/conf"
## podman_adguard ##

## podman_transmission ##
host_podman_transmission_image: docker.io/haugene/transmission-openvpn
host_podman_transmission_image_version: "4.0"
host_podman_transmission_ports: "{% if host_podman_networking.transmission.lan_access %}{{ host_podman_networking.transmission.webui_port }}{% else %}127.0.0.1:{{ host_podman_networking.transmission.webui_port }}{% endif %}:9091/tcp"
host_podman_transmission_firewalld_ports: "{{ host_podman_networking.transmission.webui_port }}"
host_podman_transmission_directories:
  - "{{ host_podman_volumes_path }}/transmission/home"
  - "{{ host_podman_volumes_path }}/transmission/completed"
  - "{{ host_podman_volumes_path }}/transmission/incompleted"
  - "{{ host_podman_volumes_path }}/transmission/watch"
host_podman_transmission_volumes:
   - "{{ host_podman_volumes_path }}/transmission:/transmission"
   - "/mnt/vault/media:/media"
host_podman_transmission_env_openvpn_provider: "{{ v_transmission_openvpn_provider }}"
host_podman_transmission_env_openvpn_config: "{{ v_transmission_openvpn_config }}"
host_podman_transmission_env_openvpn_username: "{{ v_transmission_openvpn_username }}"
host_podman_transmission_env_openvpn_password: "{{ v_transmission_openvpn_password }}"
host_podman_transmission_env_download_dir: "/media"
## podman_transmission ##

## podman_prometheus ##
host_podman_prometheus_image: docker.io/prom/prometheus
host_podman_prometheus_image_version: v2.30.3
host_podman_prometheus_ports: "{% if host_podman_networking.prometheus.lan_access %}{{ host_podman_networking.prometheus.webui_port }}{% else %}127.0.0.1:{{ host_podman_networking.prometheus.webui_port }}{% endif %}:9090/tcp"
host_podman_prometheus_firewalld_ports: "{{ host_podman_networking.prometheus.webui_port }}/tcp"
host_podman_prometheus_directories:
 - "{{ host_podman_volumes_path }}/prometheus"
 - "{{ host_podman_volumes_path }}/prometheus/data"
host_podman_prometheus_volumes: "{{ host_podman_volumes_path }}/prometheus:/etc/prometheus"
host_podman_prometheus_config_path: "{{ host_podman_volumes_path }}/prometheus/prometheus.yml"
## podman_prometheus ##

## podman_grafana ##
host_podman_grafana_image: docker.io/grafana/grafana
host_podman_grafana_image_version: "8.2.2"
host_podman_grafana_ports: "{% if host_podman_networking.grafana.lan_access %}{{ host_podman_networking.grafana.webui_port }}{% else %}127.0.0.1:{{ host_podman_networking.grafana.webui_port }}{% endif %}:3000/tcp"
host_podman_grafana_firewalld_ports: "{{ host_podman_networking.grafana.webui_port }}/tcp"
host_podman_grafana_url: "http://127.0.0.1:{{ host_podman_networking.grafana.webui_port }}"
host_grafana_admin_password: "{{ v_grafana_admin_password }}"
host_podman_grafana_dashboards_path: 
  - "{{ host_podman_volumes_path }}/grafana/dashboards/shp.json"
  - "{{ host_podman_volumes_path }}/grafana/dashboards/tmp117.json"
## podman_grafana ##

## podman_homeassistant ##
host_podman_homeassistant_image: ghcr.io/home-assistant/home-assistant
host_podman_homeassistant_image_version: "2021.10.5"
host_podman_homeassistant_ports: "{% if host_podman_networking.homeassistant.lan_access %}{{ host_podman_networking.homeassistant.webui_port }}{% else %}127.0.0.1:{{ host_podman_networking.homeassistant.webui_port }}{% endif %}:8123/tcp"
host_podman_homeassistant_firewalld_ports: "{{ host_podman_networking.homeassistant.webui_port }}/tcp"
host_podman_homeassistant_directories: "{{ host_podman_volumes_path }}/home_assistant"
host_podman_homeassistant_volumes: "{{ host_podman_volumes_path }}/home_assistant:/config"
host_podman_homeassistant_config_path: "{{ host_podman_volumes_path }}/home_assistant/configuration.yaml"
## podman_homeassistant ##

## podman_haproxy ##
host_podman_haproxy_image: docker.io/haproxy
host_podman_haproxy_image_version: 2.5-dev10-alpine
host_podman_haproxy_ports: "{% if host_podman_networking.haproxy.lan_access %}{{ host_podman_networking.haproxy.webui_port }}{% else %}127.0.0.1:{{ host_podman_networking.haproxy.webui_port }}{% endif %}:80/tcp"
host_podman_haproxy_firewalld_ports: "{{ host_podman_networking.haproxy.webui_port }}/tcp"
host_podman_haproxy_directories: "{{ host_podman_volumes_path }}/haproxy"
host_podman_haproxy_volumes: "{{ host_podman_volumes_path }}/haproxy:/usr/local/etc/haproxy"
host_podman_haproxy_config_path: "{{ host_podman_volumes_path }}/haproxy/haproxy.cfg"
## podman_haproxy ##