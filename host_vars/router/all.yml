---
# Ansible vars file for non-shared roles, order following deploy_host execution
# Vars prefix indication their location hos_ = host_vars | grp_ = group_vars | v_host_ = vault in host_vars | v_grp_ = vault in group 
## Role global ##
v_host_primary_user_username: "{{ v_primary_user_username }}"
v_host_primary_user_password: "{{ v_primary_user_password }}" 
host_cpu_architecture: amd64 # amd64, arm64 etc ...
host_wireguard_interface_name: wg0
host_wireguard_subnet: "172.16.0"
host_wireguard_server_port: 51820
## Role global ##

## device_init ##
use_starship: no
host_debian_stable_packages:
  - debian-keyring
  - debian-archive-keyring
  - ca-certificates
  - apt-transport-https
  - dnsutils
  - ldnsutils
  - conntrack
  - git
  - msmtp
  - tcpdump
  - zsh
  - socat
  - mtr-tiny
  - acl
  - neovim
## device_init ##

## interfaces ##
host_lacp_interface: bond0
## interfaces ##

## frr ##
host_frr_version: frr-8  ## https://deb.frrouting.org/
host_frr_daemons:
  - bgpd=no
  - ospfd=yes
  - ospf6d=no
  - ripd=no
  - ripngd=no
  - isisd=no
  - pimd=no
  - ldpd=no
  - nhrpd=no
  - eigrpd=no
  - babeld=no
  - sharpd=no
  - pbrd=no
  - bfdd=no
  - fabricd=no
  - vrrpd=no
## frr ##

## isc_kea ##
host_kea_version: kea-2-0  ## https://cloudsmith.io/~isc/repos/
host_cloudsmith_gpg_key: gpg.8029D4AFA58CBB5E.key ## For kea-1-9 https://cloudsmith.io/~isc/repos/kea-1-9/signing/
## isc_kea ##

## wireguard ##
host_wireguard_server_address: "{{ host_wireguard_subnet }}.1/24"
host_wireguard_server_private_key: "{{ v_wireguard_server_private_key }}"
host_wireguard_server_public_key: "{{ v_wireguard_server_public_key }}"
host_wireguard_peers:
  Arch:
    private_key: "{{ v_peer1_private_key }}"
    public_key: "{{ v_peer1_public_key }}"
    preshared_key: "{{ v_peer1_preshared_key }}"
    ip_address: "{{ host_wireguard_subnet }}.2/32"

  One:
    private_key: "{{ v_peer2_private_key }}"
    public_key: "{{ v_peer2_public_key }}"
    preshared_key: "{{ v_peer2_preshared_key }}"
    ip_address: "{{ host_wireguard_subnet }}.3/32"
  
  W10:
    private_key: "{{ v_peer3_private_key }}"
    public_key: "{{ v_peer3_public_key }}"
    preshared_key: "{{ v_peer3_preshared_key }}"
    ip_address: "{{ host_wireguard_subnet }}.4/32"
## wireguard ##

## prometheus_node_exporter ##
host_exporter_download_url: https://github.com/prometheus/node_exporter/releases/download/
host_exporter_version: 1.1.2 # https://github.com/prometheus/node_exporter/releases/
## prometheus_node_exporter ##

## ntpd ##
host_ntpd_interfaces_ip: ["127.0.0.1", "{{ grp_device.router.ipv4_addr }}"]
host_ntpd_upstream_server: 
  - 0.debian.pool.ntp.org
  - pool.ntp.org
  - ntp.midway.ovh
## ntpd ##

## coredns ##
host_coreDNS_path: /opt/coredns
host_coreDNS_version: "1.8.4"
host_coreDNS_port: "53"
host_coreDNS_prometheus_port: "9353"
host_coreDNS_forwardto: "{{ grp_device.pi.ipv4_addr }}"
host_coreDNS_docker_local_subdomain:
  - adguard
  - prometheus
  - grafana
  - transmission
  - haproxy
  - homeassistant
## coredns ##

## gad ##
host_gad_path: /opt
host_gad_version: "1.4.2"
host_gad_use_ipv6: no
## gad ##

## nftables ##
host_nftables_echo_request_count: "{{ host_is_alive_echo_request_count }}"
## nftables ##