---
- name: Provisioning of the primary server
  hosts: n1
  become: true
  gather_facts: true
  roles:
    - role: init
      tags: [init]

    - role: starship
      tags: [starship]

    - role: firewalld
      tags: [firewalld]

    - role: zfs
      tags: [zfs]

    - role: zrepl
      tags: [zrepl]

    - role: acme_dns
      tags: [acme]

    - role: docker/prometheus
      tags: [prometheus, containers]

    - role: docker/grafana
      tags: [grafana, containers]

    - role: docker/jellyfin
      tags: [jellyfin, containers]

    - role: docker/transmission
      tags: [transmission, containers]

    - role: docker/homeassistant
      tags: [homeassistant, containers]

    - role: docker/minecraft
      tags: [minecraft, containers]

    - role: docker/adguard
      tags: [adguard, containers]

    - role: docker/bitwarden
      tags: [bitwarden, containers]

    - role: caddy
      tags: [caddy, containers]
