---
- name: Provisioning of the primary server
  hosts: n1
  become: true
  gather_facts: true
  roles:
    - role: init
      tags: [init]

    - role: starship
      tags: [starship]

    - role: firewalld
      tags: [firewalld]

    - role: zfs
      tags: [zfs]

    - role: zrepl
      tags: [zrepl]

    - role: acme_dns
      tags: [acme]

    - role: podman/podman
      tags: [podman]

    - role: podman/prometheus
      tags: [prometheus, containers]

    - role: podman/grafana
      tags: [grafana, containers]

    - role: podman/jellyfin
      tags: [jellyfin, containers]

    - role: podman/transmission
      tags: [transmission, containers]

    - role: podman/homeassistant
      tags: [homeassistant, containers]

    - role: podman/minecraft
      tags: [minecraft, containers]

    - role: podman/filebrowser
      tags: [filebrowser, containers]

    - role: podman/adguard
      tags: [adguard, containers]

    - role: podman/bitwarden
      tags: [bitwarden, containers]

    - role: caddy
      tags: [caddy, containers]
