---
- name: Provisioning of the laptop server
  hosts: laptop
  become: yes
  gather_facts: yes
  roles:
    - role: device_init
      tags: [ device_init, init ]

    - role: fstrim
      tags: [ fstrim, init ]

    - role: vnstat
      tags: [ vnstat, init, monitoring ]

    - role: starship
      tags: [ starship, init ]

    - role: firewalld
      tags: [ firewalld, init ]

    - role: systemd_timesyncd
      tags: [ systemd_timesyncd, init ]

    - role: podman/podman
      tags: [ podman_all ]

    - role: is_alive
      tags: [ is_alive, services ]

    - role: gad
      tags: [ gad, services ]

    - role: zfs
      tags: [ zfs, init ]

    - role: zrepl
      tags: [ zrepl, services ]

    - role: podman/podman
      tags: [ podman, podman_all ]

    - role: podman/podman_jellyfin
      tags: [ podman_jellyfin, podman_all ]

    - role: podman/podman_transmission
      tags: [ podman_transmission, podman_all ]

    - role: podman/podman_filebrowser
      tags: [ podman_filebrowser, podman_all ]

    - role: podman/podman_kuma
      tags: [ podman_kuma, podman_all ]
    
    - role: podman/podman_syncthing
      tags: [ podman_syncthing, podman_all ]

    - role: haproxy
      tags: [ haproxy, podman_all ]

    - role: acme_dns
      tags: [ acme_dns, podman_all ]

    # - role: samba_server
    #   tags: [ samba_server, service ]

    # - role: tgtd
    #   tags: [ tgtd, service ]
