---
grp_primary_user_ssh_pubkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDDs6RBgrx45PnidTTYIl9yyq9EgUbwGexk8rHzxiG9U emanon@arch 
grp_device:
    router:
      hostname: r1
      ipv4_addr: 192.168.5.1
      ipv6_addr: "{{ grp_ipv6_prefix }}:f400::a"
      wan_interface:
        ifname: enp1s0
        ipv6_addr: "{{ grp_ipv6_prefix }}:f400:ffff::"
        ipv6_addr_cidr: "{{ grp_ipv6_prefix }}:f400:ffff::/128"
      lan_interface:
        ifname: bond0
        lan_salves: [enp2s0, enp3s0]
        ipv4_addr: 192.168.5.1
        ipv4_addr_cidr: 192.168.5.1/24
        ipv6_addr: "{{ grp_ipv6_prefix }}:f400::a"
        ipv6_addr_cidr: "{{ grp_ipv6_prefix }}:f400::a/64"
    brocade:
      ipv4_addr: 192.168.5.2
      ipv6_addr: "{{ grp_ipv6_prefix }}:f400::b"
      hostname: sw
    arch:
      ipv4_addr: 192.168.20.20
      ipv6_addr: "{{ grp_ipv6_prefix }}:f402::20"
      hw_addr: 00:d8:61:57:9c:fb
      duid: 00:02:00:00:ab:11:57:c4:3c:6f:2e:8a:90:62
      hostname: arch
    nas:
      ipv4_addr: 192.168.10.25
      ipv6_addr: "{{ grp_ipv6_prefix }}:f401::25"
      hw_addr: 6a:c5:63:4b:f2:fd
      duid: 00:02:00:00:ab:11:13:32:c9:57:5b:26:e6:d3
      hostname: nas
      lan_interfaces: [eno1, eno2]
    ndmz:
      ipv4_addr: 192.168.50.25
      ipv6_addr: "{{ grp_ipv6_prefix }}:f405::25"
      hw_addr: 6a:c5:63:4b:f2:fe
      duid: 00:04:00:00:00:00:00:00:00:00:00:00:ac:1f:6b:77:cf:b8
      hostname: ndmz
      lan_interfaces: [eno1, eno2]
    ipmi:
      ipv4_addr: 192.168.10.26
      ipv6_addr: "{{ grp_ipv6_prefix }}:f401::26"
      hw_addr: ac:1f:6b:77:c8:78
      duid: 00:01:00:01:2a:16:93:14:00:00:00:00:00:00
      hostname: ipmi
    aclite:
      ipv4_addr: 192.168.10.40
      ipv6_addr: "{{ grp_ipv6_prefix }}:f401::40"
      hw_addr: b4:fb:e4:90:49:50
      hostname: ubnt
    pi:
      ipv4_addr: 192.168.10.30
      ipv6_addr: "{{ grp_ipv6_prefix }}:f401::30"
      hw_addr: dc:a6:32:25:7f:cc
      duid: 00:01:00:01:2a:55:fb:32:dc:a6:32:25:7f:cc
      hostname: pi
    shp1:
      ipv4_addr: 192.168.40.50
      hw_addr: a4:cf:12:d7:91:6d
      hostname: homelabshp
    shp2:
      ipv4_addr: 192.168.40.51
      hw_addr: a4:cf:12:d7:8f:48
      hostname: supermicroshp
    shp3:
      ipv4_addr: 192.168.40.52
      hw_addr: e8:db:84:89:1b:35
      hostname: brocadeshp
    shp4:
      ipv4_addr: 192.168.40.53
      hw_addr: e8:db:84:89:24:61
      hostname: qotomshp
    shp5:
      ipv4_addr: 192.168.40.54
      hw_addr: e8:db:84:88:3a:fa
      hostname: pishp
    hs110:
      ipv4_addr: 192.168.40.55
      hw_addr: 50:c7:bf:0a:f3:44
      hostname: hs110
    tmp117:
      ipv4_addr: 192.168.40.60
      hw_addr: c8:2b:96:09:17:b0
      hostname: tmp117
    printer:
      ipv4_addr: 192.168.30.5
      ipv6_addr: "{{ grp_ipv6_prefix }}:f403::5"
      hw_addr: 00:21:5a:e5:51:f9
      hostname: printer

http_services:
  - service: prometheus
    fulldomain: prometheus.emanon.moe
    reverse_proxy: nas.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: no
    backends:
      - backend: localhost
        port: 7001

  - service: grafana
    fulldomain: grafana.emanon.moe
    reverse_proxy: nas.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: no
    backends:
      - backend: localhost
        port: 7002

  - service: adguard
    fulldomain: adguard.emanon.moe
    reverse_proxy: nas.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: no
    backends:
      - backend: localhost
        port: 7003

  - service: syncthing
    fulldomain: syncthing.emanon.moe
    reverse_proxy: nas.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: no
    backends:
      - backend: localhost
        port: 7004

  - service: transmission
    fulldomain: transmission.emanon.moe
    reverse_proxy: nas.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: no
    backends:
      - backend: localhost
        port: 7005

  - service: homeassistant
    fulldomain: hass.emanon.moe
    reverse_proxy: nas.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: no
    backends:
      - backend: localhost
        port: 7006

  - service: jellyfin
    fulldomain: jellyfin.emanon.moe
    reverse_proxy: ndmz.emanon.moe
    direct_access: no
    ssl_redirect: yes
    public: yes
    backends:
      - backend: localhost
        port: 7007

tcp_services:
  - service: minecraft
    fulldomain: minecraft.emanon.moe
    reverse_proxy: ndmz.emanon.moe
    direct_access: yes
    public: yes
    backends:
      - backend: localhost
        port: 25565

grp_local_domain: emanon.moe
grp_domain_name: emanon.moe
grp_subdomain: "@"
grp_acme_dns_domain_name:
  - { fqdn: "{{ grp_domain_name }}", domain: ".{{ grp_domain_name }}" }             # Domain itself
  - { fqdn: "*.{{ grp_domain_name }}", domain: ".{{ grp_domain_name }}" }           # Wilcard for all subdomains
  #- { fqdn: "kuma.{{ host_acme_dns_domain }}", domain: ".{{ host_acme_dns_domain }}" } # Simple example for subdomain

grp_dns_ipv4_server: "{{ grp_device.router.lan_interface.ipv4_addr }}"
grp_ntp_ipv4_server: "{{ grp_device.router.lan_interface.ipv4_addr }}"
grp_dns_ipv6_server: "{{ grp_device.router.lan_interface.ipv6_addr }}"
grp_ntp_ipv6_server: "{{ grp_device.router.lan_interface.ipv6_addr }}"
grp_gandi_api_key: "{{ grp_vault_gandi_api_key }}"

grp_nfs_server_target: "{{ grp_device.nas.hostname }}.{{ grp_local_domain }}"
grp_nfs_remote_share: /mnt/vault/emanon
grp_nfs_mount_dir: /mnt/vault

grp_dns_server_upstream_ipv4_addr: "{{ grp_device.nas.ipv4_addr }}"
grp_dns_server_upstream_port: 10053

grp_ipv6_prefix: 2a01:e0a:94f # /61
